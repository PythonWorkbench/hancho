# tutorial/tut04_rules.hancho

def compile_cpp(hancho, *, in_src):
  obj = in_src.replace('.cpp', '.o')
  dep = in_src.replace('.cpp', '.d')
  return hancho(
    desc    = "Compile {in_src}",
    command = "g++ -MMD -c {in_src} -o {out_obj}",
    in_src  = in_src,
    out_obj = obj,
    c_deps  = dep,
  )

def link_cpp(hancho, *, in_objs, out_bin):
  return hancho(
    desc    = "Link {out_bin}",
    command = "g++ {in_objs} -o {out_bin}",
    in_objs = in_objs,
    out_bin = out_bin,
  )
