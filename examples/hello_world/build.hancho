# examples/hello_world/build.hancho
import hancho

hancho.config.set(build_dir = "build")

compile = hancho.Rule(
  desc = "Compile {files_in} -> {files_out}",
  command = "g++ -c {files_in} -o {files_out}",
  files_out = "{swap_ext(files_in, '.o')}",
  depfile = "{build_dir}/{swap_ext(files_in, '.d')}",
)

link = hancho.Rule(
  desc = "Link {files_in} -> {files_out}",
  command = "g++ {files_in} -o {files_out}",
)

main_o = compile("main.cpp")
main_app = link(main_o, "app")
