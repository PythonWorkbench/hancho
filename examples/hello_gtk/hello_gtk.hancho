import hancho

rules = hancho.load("{repo_path}/rules.hancho")

main_o = rules.compile_cpp(
  in_src = "main.c",
  cpp_flags = [
    rules.compile_cpp.cpp_flags,
    "-fpermissive",
    "{run_cmd('pkg-config gtk+-3.0 --cflags-only-other')}",
    "{run_cmd('pkg-config gtk+-3.0 --cflags-only-I')}",
  ],
)

main = rules.link_cpp_bin(
  in_objs = main_o,
  out_bin = "hello_gtk",
  link_flags = [
    rules.link_cpp_bin.link_flags,
    "{run_cmd('pkg-config gtk+-3.0 --libs')}"
  ],
)
